{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Downloads/UpClone/frontend/src/user/Signin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Menu from '../core/Menu';\nimport { Container, Form, Button, Col, Row } from 'react-bootstrap';\nimport { Link, Redirect } from \"react-router-dom\";\nimport { signin, authenticate, isAuthenticated } from '../auth/helper/index';\nimport Footer from \"../core/Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Signin = () => {\n  _s();\n\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    loading: false,\n    didRedirect: false\n  });\n  const {\n    email,\n    password,\n    error,\n    loading,\n    didRedirect\n  } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values,\n      error: false,\n      loading: true\n    });\n    signin({\n      email,\n      password\n    }).then(data => {\n      if (data.error) {\n        console.log(data.error);\n        setValues({ ...values,\n          error: data.error,\n          loading: false\n        });\n      } else {\n        authenticate(data, () => {\n          setValues({ ...values,\n            didRedirect: true\n          });\n        });\n      }\n    }).catch(console.log(\"signin request failed\"));\n  };\n\n  const performRedirect = () => {\n    if (didRedirect) {\n      const {\n        user\n      } = isAuthenticated();\n\n      if (user && user.role === 0) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/adminportal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 20\n        }, this);\n      } else if (user && user.role === 1) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/freelancers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 20\n        }, this);\n      } else if (user && user.role === 2) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 20\n        }, this);\n      }\n    }\n  };\n\n  const errorMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 offset-sm-3 text-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-danger\",\n          style: {\n            display: error ? \"\" : \"none\"\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: \"#1d4354\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      style: {\n        padding: \"35px\",\n        height: \"100vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: {\n            span: 6,\n            offset: 3\n          },\n          style: {\n            border: \"2px solid black\",\n            padding: \"30px\",\n            borderRadius: \"7px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              fontWeight: \"900\",\n              paddingBottom: \"10px\"\n            },\n            children: \"You already have an account, Login here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            style: {\n              backgroundColor: \"white\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"email\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"email\",\n                placeholder: \"Enter email\",\n                onChange: handleChange(\"email\"),\n                value: email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                className: \"text-muted\",\n                children: \"We'll never share your email with anyone else.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"password\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                placeholder: \"Password\",\n                onChange: handleChange(\"password\"),\n                value: password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"success\",\n              type: \"submit\",\n              onClick: onSubmit,\n              block: true,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              children: [\"Doesn't Have an account\", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/signup\",\n                className: \"text-success\",\n                children: \" Signup\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 52\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), errorMessage(), performRedirect(), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Signin, \"cOUPZvn5mwL0JF5QMpDAqZMaRaA=\");\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["/Users/mac/Downloads/UpClone/frontend/src/user/Signin.js"],"names":["React","useState","Menu","Container","Form","Button","Col","Row","Link","Redirect","signin","authenticate","isAuthenticated","Footer","Signin","values","setValues","email","password","error","loading","didRedirect","handleChange","name","event","target","value","onSubmit","preventDefault","then","data","console","log","catch","performRedirect","user","role","errorMessage","display","backgroundColor","padding","height","span","offset","border","borderRadius","fontWeight","paddingBottom"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport Menu from '../core/Menu';\nimport { Container, Form, Button, Col, Row } from 'react-bootstrap';\nimport { Link, Redirect } from \"react-router-dom\";\nimport { signin, authenticate, isAuthenticated } from '../auth/helper/index'\nimport Footer from \"../core/Footer\";\n\n\nconst Signin = () =>{\n    const [values, setValues] = useState({\n        email:\"\",\n        password:\"\",\n        error:\"\",\n        loading:false,\n        didRedirect: false\n    })\n\n    const { email, password, error, loading, didRedirect } = values;\n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]:event.target.value });\n    };\n\n    const onSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false, loading: true });\n        signin({ email, password })\n          .then(data => {\n            if (data.error) {\n                console.log(data.error)\n              setValues({ ...values, error: data.error, loading: false });\n            } else {\n                authenticate(data, () => {\n                setValues({\n                  ...values,\n                  didRedirect: true\n                });\n              });\n            }\n          })\n          .catch(console.log(\"signin request failed\"));\n    };\n\n    const performRedirect = () => {\n        if (didRedirect) {\n            const { user } = isAuthenticated(); \n          if (user && user.role === 0) {\n            return <Redirect to=\"/adminportal\" />;\n          } \n          else if(user && user.role === 1) {\n            return <Redirect to=\"/freelancers\" />;\n          }\n          else if(user && user.role === 2) {\n            return <Redirect to=\"/jobs\" />;\n          }\n        }\n    };\n\n    const errorMessage = () => {\n    return (\n        <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n            <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n            >\n            {error}\n            </div>\n        </div>\n        </div>\n        );\n    };\n\n    return(\n        <>\n        <div  style={{backgroundColor:\"#1d4354\"}}>\n            <Menu />\n        </div>\n        <Container style={{padding:\"35px\", height:\"100vh\"}}>\n            <Row >\n                <Col md={{ span: 6, offset: 3 }} style={{border:\"2px solid black\", padding:\"30px\", borderRadius:\"7px\"}}>\n                <h4 style={{ fontWeight:\"900\", paddingBottom:\"10px\"}}>You already have an account, Login here</h4>\n                    <Form  style={{backgroundColor:\"white\"}}>\n                        <Form.Group controlId=\"email\">\n                            <Form.Control \n                            type=\"email\" \n                            placeholder=\"Enter email\"\n                            onChange={handleChange(\"email\")}\n                            value={email} />\n\n                            <Form.Text className=\"text-muted\">\n                            We'll never share your email with anyone else.\n                            </Form.Text>\n                        </Form.Group>\n                        <Form.Group controlId=\"password\">\n                            <Form.Control \n                            type=\"password\" \n                            placeholder=\"Password\"\n                            onChange={handleChange(\"password\")}\n                            value={password} />\n                        </Form.Group>\n                        \n                        <Button variant=\"success\" type=\"submit\" onClick={onSubmit} block>\n                            Submit\n                        </Button>\n                        <Form.Text >\n                            Doesn't Have an account<Link to=\"/signup\" className=\"text-success\"> Signup</Link>\n                        </Form.Text>\n                    </Form>\n                </Col>\n            </Row>\n        </Container>\n        {errorMessage()}\n        {performRedirect()}\n    <Footer />\n\n        </>\n    );\n}\n\nexport default Signin;"]},"metadata":{},"sourceType":"module"}